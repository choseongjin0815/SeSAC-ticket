<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::div.content-container}, 'manager-changepassword', ~{::title})}">
<head>
  <meta charset="UTF-8">
  <title>비밀번호 변경 - SeSAC 관리자 페이지</title>
</head>
<body>
<div class="content-container">
  <div class="page-path">
    <span class="path-item current">비밀번호 변경</span>
  </div>
  <form th:action="@{/view/admins/update-password}" method="POST" onsubmit="return validatePasswords() && confirmSubmission();">
    <div class="form-container" style="margin: 20px 0;">
      <table class="form-table" style="width: 100%;">
        <tr>
          <th style="white-space: nowrap; padding: 10px;">현재 비밀번호</th>
          <td>
            <input type="password" id="current-password" class="form-input" name="oldPassword" placeholder="현재 비밀번호" required />
          </td>
        </tr>
        <tr>
          <th style="white-space: nowrap; padding: 10px;">새 비밀번호</th>
          <td>
            <input type="password" id="new-password" class="form-input" name="newPassword" placeholder="새 비밀번호" required />
          </td>
        </tr>
        <tr>
          <th style="white-space: nowrap; padding: 10px;">새 비밀번호 확인</th>
          <td>
            <input type="password" id="check-password" class="form-input" name="checkPassword" placeholder="새 비밀번호 확인" required />
          </td>
        </tr>
      </table>
    </div>

    <div class="btn-container">
      <button type="submit" class="submit-btn">저장</button>
    </div>
  </form>


  <script>
    // 새 비밀번호 확인 로직
    function validatePasswords() {
      const newPassword = document.getElementById('new-password').value;
      const checkPassword = document.getElementById('check-password').value;

      // 비밀번호가 일치하는지 확인
      if (newPassword !== checkPassword) {
        alert('새 비밀번호와 확인 비밀번호가 일치하지 않습니다.');
        return false;
      }
      return true;
    }

    // 제출 버튼 클릭 시 확인 알림
    function confirmSubmission() {
      return confirm('정말로 비밀번호를 변경하시겠습니까?');
    }
  </script>
</div>
</body>
</html>